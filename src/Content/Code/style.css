/*
 * Стили для компонента Code
 *
 * Этот файл содержит все стили для отображения блоков исходного кода с поддержкой:
 * - Подсветки синтаксиса (через highlight.js классы)
 * - Нумерации строк
 * - Кнопки копирования кода в буфер обмена
 * - Метки с названием языка программирования
 *
 * ## Используемые CSS-переменные:
 * - Цвета: --wk-color-*
 * - Отступы: --wk-spacing-*
 * - Типографика: --wk-font-*, --wk-line-height-*
 * - Радиусы: --wk-border-radius-*
 * - Тени: --wk-shadow-*
 * - Анимации: --wk-transition-*
 *
 * Компонент: Code
 * Автор: OlegV
 * Версия: 1.0.0
 * @since 1.0.0
 */

/* Компонент Code — отображение блоков исходного кода с подсветкой синтаксиса */
.wallkit-code {
    background-color: var(--wk-color-gray-900);
    border: var(--wk-border-width) solid var(--wk-color-gray-700);
    border-radius: var(--wk-border-radius);
    font-family: var(--wk-font-family-mono, 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, monospace), serif;
    font-size: var(--wk-font-size-sm);
    margin: var(--wk-spacing-4) 0;
    overflow: hidden;
    color-scheme: dark;
}

/* Заголовок блока кода */
.wallkit-code__header {
    background-color: var(--wk-color-gray-800);
    border-bottom: var(--wk-border-width) solid var(--wk-color-gray-700);
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: var(--wk-spacing-1) var(--wk-spacing-3);
    min-height: var(--wk-spacing-2);
}

/* Метка языка */
.wallkit-code__language {
    color: var(--wk-color-gray-400);
    font-weight: var(--wk-font-weight-medium);
    text-transform: uppercase;
    font-size: var(--wk-font-size-xs);
    letter-spacing: 0.05em;
    line-height: 1;
}

/* Кнопка копирования */
.wallkit-code__copy-button {
    background-color: transparent;
    border: var(--wk-border-width) solid var(--wk-color-gray-600);
    border-radius: var(--wk-border-radius-sm);
    color: var(--wk-color-gray-400);
    cursor: pointer;
    font-size: var(--wk-font-size-xs);
    font-weight: var(--wk-font-weight-medium);
    padding: var(--wk-spacing-1) var(--wk-spacing-2);
    transition: all var(--wk-transition-fast);
    line-height: 1;
    outline: none;
}

.wallkit-code__copy-button:hover {
    background-color: var(--wk-color-primary);
    border-color: var(--wk-color-primary);
    color: white;
}

.wallkit-code__copy-button:focus-visible {
    box-shadow: var(--wk-shadow-outline-blue);
}

.wallkit-code__copy-button:active {
    transform: translateY(1px);
}

/* Контейнер содержимого */
.wallkit-code__content {
    display: flex;
    overflow-x: auto;
    background-color: var(--wk-color-gray-900);
    min-height: var(--wk-spacing-4);
}

/* Блок с номерами строк */
.wallkit-code__lines {
    background-color: var(--wk-color-gray-800);
    border-right: var(--wk-border-width) solid var(--wk-color-gray-700);
    color: var(--wk-color-gray-500);
    font-size: var(--wk-font-size-sm);
    padding: var(--wk-spacing-3) var(--wk-spacing-2);
    text-align: right;
    user-select: none;
    min-width: var(--wk-spacing-4);
    font-variant-numeric: tabular-nums;
    line-height: 1.5;
}

.wallkit-code__line-number {
    display: block;
    line-height: var(--wk-line-height-base);
}

/* Контейнер для кода */
.wallkit-code__content pre {
    margin: 0;
    padding: var(--wk-spacing-3);
    flex: 1;
    overflow-x: auto;
    background: transparent;
}

.wallkit-code__content code {
    background: none;
    color: var(--wk-color-gray-300);
    display: block;
    line-height: var(--wk-line-height-base);
    tab-size: 4;
    white-space: pre;
    font-family: inherit;
    font-size: inherit;
}

/* Стили для highlight.js (только при наличии подсветки) */
.hljs {
    display: block;
    overflow-x: auto;
    background: var(--wk-color-gray-900);
    color: var(--wk-color-gray-300);
    font-family: inherit;
    font-size: inherit;
}

.hljs-strong,
.hljs-emphasis {
    color: var(--wk-color-gray-200);
}

.hljs-bullet,
.hljs-quote,
.hljs-link,
.hljs-number,
.hljs-regexp,
.hljs-literal {
    color: #6896ba;
}

.hljs-code,
.hljs-selector-class {
    color: #a6e22e;
}

.hljs-emphasis {
    font-style: italic;
}

.hljs-keyword,
.hljs-selector-tag,
.hljs-section,
.hljs-attribute,
.hljs-name,
.hljs-variable {
    color: #cb7832;
}

.hljs-params {
    color: var(--wk-color-gray-400);
}

.hljs-string {
    color: #6a8759;
}

.hljs-subst,
.hljs-type,
.hljs-built_in,
.hljs-builtin-name,
.hljs-symbol,
.hljs-selector-id,
.hljs-selector-attr,
.hljs-selector-pseudo,
.hljs-template-tag,
.hljs-template-variable,
.hljs-addition {
    color: #e0c46c;
}

.hljs-comment,
.hljs-deletion,
.hljs-meta {
    color: var(--wk-color-gray-500);
}

/* Фокус-состояние для доступности */
.wallkit-code:focus-within {
    box-shadow: var(--wk-shadow-outline-blue);
}

/* Темная тема по умолчанию */
[data-theme="light"] .wallkit-code,
[data-theme="light"] .wallkit-code__header {
    background-color: var(--wk-color-gray-50);
    border-color: var(--wk-color-gray-200);
}

[data-theme="light"] .wallkit-code__lines {
    background-color: var(--wk-color-gray-100);
    border-color: var(--wk-color-gray-200);
    color: var(--wk-color-gray-600);
}

[data-theme="light"] .wallkit-code__language,
[data-theme="light"] .wallkit-code__copy-button {
    color: var(--wk-color-gray-600);
}

[data-theme="light"] .wallkit-code__copy-button {
    border-color: var(--wk-color-gray-300);
}

[data-theme="light"] .wallkit-code__copy-button:hover {
    background-color: var(--wk-color-primary);
    border-color: var(--wk-color-primary);
    color: white;
}

[data-theme="light"] .wallkit-code__content code,
[data-theme="light"] .hljs {
    color: var(--wk-color-gray-700);
}
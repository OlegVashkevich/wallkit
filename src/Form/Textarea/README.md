# Компонент Textarea

Компонент для ввода многострочного текста. Реализует стандартный HTML-элемент `<textarea>` с полной типобезопасностью на PHP и кастомизацией через CSS-переменные. Предназначен для ввода длинного текста: комментариев, описаний, сообщений и т.д.

## Характеристики

| Параметр | Значение |
|----------|----------|
| **Тип компонента** | Элемент формы (многострочный ввод) |
| **Иммутабельность** | Да (readonly) |
| **Рендеринг** | SSR (серверный) |
| **Типизация** | Strict PHP 8.2+ |
| **CSS префикс** | `wallkit-` |
| **Зависимости** | Base, WithHelpers, WithStrictHelpers, WithInheritance |

## Возможности текстовой области

| Функция | Описание | Поддержка |
|---------|----------|-----------|
| **Базовый ввод** | Многострочный текст | ✅ Полная |
| **Автоматический размер** | Вертикальное изменение размера | ✅ Через `resize: vertical` |
| **Ограничение длины** | Максимальное количество символов | ✅ Атрибут `maxlength` |
| **Строки по умолчанию** | Начальная высота поля | ✅ Свойство `rows` |
| **Проверка орфографии** | Встроенная проверка правописания | ✅ Атрибут `spellcheck` |
| **Автозаполнение** | Подсказки при вводе | ✅ Атрибут `autocomplete` |

## Свойства компонента

| Свойство | Тип | По умолчанию | Описание |
|----------|-----|--------------|----------|
| `name` | `string` | — | Имя поля (обязательно) |
| `placeholder` | `?string` | `null` | Текст-подсказка в поле |
| `value` | `?string` | `null` | Текущее значение текстовой области |
| `rows` | `int` | `4` | Количество видимых строк (высота) |
| `maxLength` | `?int` | `null` | Максимальное количество символов |
| `required` | `bool` | `false` | Обязательное поле для заполнения |
| `disabled` | `bool` | `false` | Отключенное состояние |
| `readonly` | `bool` | `false` | Только для чтения |
| `id` | `?string` | `null` | HTML ID (автогенерация) |
| `autoFocus` | `bool` | `false` | Автофокус при загрузке |
| `autocomplete` | `?string` | `null` | Автозаполнение |
| `spellcheck` | `?bool` | `null` | Проверка орфографии |

## Использование

### Базовое использование
```php
use OlegV\WallKit\Form\Textarea\Textarea;

$textarea = new Textarea(
    name: 'comment',
    placeholder: 'Введите ваш комментарий'
);
echo $textarea;
```

### Текстовая область с ограничением длины
```php
$textarea = new Textarea(
    name: 'bio',
    placeholder: 'Расскажите о себе',
    rows: 5,
    maxLength: 500
);
```

### Комментарий с автофокусом
```php
$textarea = new Textarea(
    name: 'message',
    placeholder: 'Напишите сообщение...',
    autoFocus: true,
    rows: 3,
    spellcheck: true
);
```

### Форма обратной связи
```php
$feedback = new Textarea(
    name: 'feedback',
    placeholder: 'Опишите ваши впечатления о продукте...',
    rows: 6,
    required: true,
    maxLength: 1000
);
```

## Стилизация

### CSS-классы
| Класс | Назначение |
|-------|------------|
| `.wallkit-textarea__field` | Базовый стиль текстовой области |

### CSS-переменные
Компонент использует переменные из базовой темы WallKit:

**Цвета:**
- `--wk-color-gray-300` — цвет рамки
- `--wk-color-blue-500` — цвет рамки в фокусе
- `--wk-color-gray-400` — цвет плейсхолдера
- `--wk-color-gray-900` — цвет текста

**Отступы:**
- `--wk-spacing-3` — вертикальный отступ (12px)
- `--wk-spacing-4` — горизонтальный отступ (16px)

**Типографика:**
- `--wk-font-family` — семейство шрифтов
- `--wk-font-size-sm` — размер шрифта (14px)
- `--wk-line-height-base` — межстрочный интервал (1.5)

**Радиусы и тени:**
- `--wk-radius-sm` — радиус скругления (2px)
- `--wk-shadow-outline-blue` — тень при фокусе

### HTML5-атрибуты
Компонент генерирует соответствующие HTML-атрибуты:
- `required` для обязательных полей
- `maxlength` для ограничения длины текста
- `rows` для определения высоты поля
- `autocomplete` для подсказок автозаполнения
- `spellcheck` для проверки орфографии
- `placeholder` для текста-подсказки
- `readonly` и `disabled` для управления доступностью

## Совместимость

| Система | Статус | Примечания |
|---------|--------|------------|
| **PHP** | 8.2+ | Strict типизация, readonly классы, union-типы |
| **HTML** | 5+ | Семантическая разметка, стандартные атрибуты |
| **CSS** | 3+ | CSS-переменные, современные свойства |
| **JavaScript** | ES6+ | Нативная поддержка textarea |
| **Браузеры** | Все современные | Полная кросс-браузерная совместимость |

## Особенности реализации

### Минимальная высота
Компонент автоматически устанавливает минимальную высоту на основе:
- Размера шрифта (`--wk-font-size-sm`)
- Межстрочного интервала (`--wk-line-height-base`)
- Количества строк по умолчанию (4 строки)

### Вертикальное изменение размера
По умолчанию разрешено только вертикальное изменение размера (`resize: vertical`) для сохранения ширины макета.

### Безопасность вывода
Все пользовательские данные экранируются через `$this->e()`, предотвращая XSS-атаки.

## Ссылки
- [Компонент Input](../Input/README.md) — однострочное поле ввода
- [Компонент Field](../Field/README.md) — обёртка для полей ввода
- [Руководство по стилизации](../../../styling.md)
- [Базовый класс Base](../../Base/README.md)

---

**Версия:** 1.0.0  
**Автор:** OlegV  
**Лицензия:** MIT
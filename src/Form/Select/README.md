# Компонент Select

Компонент выпадающего списка. Реализует стандартный HTML-элемент `<select>` с поддержкой одиночного и множественного выбора, группировки опций и валидации.

## Характеристики

| Параметр | Значение |
|----------|----------|
| **Тип компонента** | Элемент формы (select) |
| **Иммутабельность** | Да (readonly) |
| **Рендеринг** | SSR (серверный) |
| **Типизация** | Strict PHP 8.2+ |
| **CSS префикс** | `wallkit-` |
| **Зависимости** | Base, WithHelpers, WithStrictHelpers, WithInheritance |

## Поддерживаемые режимы

| Режим | Назначение | Особенности |
|-------|------------|-------------|
| **Одиночный выбор** | Стандартный select | Одно выбранное значение |
| **Множественный выбор** | Select с атрибутом multiple | Несколько выбранных значений, имя должно оканчиваться на `[]` |
| **Группы опций** | Вложенные optgroup | Иерархическая структура опций |

## Свойства компонента

| Свойство | Тип | По умолчанию | Описание |
|----------|-----|--------------|----------|
| `name` | `string` | — | Имя поля (обязательно) |
| `options` | `array<string|int, string|array>` | `[]` | Массив опций или групп опций |
| `selected` | `string\|int\|array|null` | `null` | Выбранное значение (или массив значений для multiple) |
| `multiple` | `bool` | `false` | Множественный выбор |
| `required` | `bool` | `false` | Обязательность выбора |
| `disabled` | `bool` | `false` | Отключенное состояние |
| `id` | `?string` | `null` | HTML ID |
| `classes` | `array<string>` | `[]` | Дополнительные CSS классы |
| `attributes` | `array<string, string\|int\|bool\|null>` | `[]` | Дополнительные HTML атрибуты |
| `placeholder` | `?string` | `null` | Плейсхолдер (первая пустая опция) |
| `size` | `?int` | `null` | Количество видимых строк (для multiple) |
| `autoFocus` | `bool` | `false` | Автофокус при загрузке |

## Использование

### Простой список
```php
use OlegV\WallKit\Form\Select\Select;

$select = new Select(
    name: 'country',
    options: [
        'ru' => 'Россия',
        'us' => 'США',
        'de' => 'Германия'
    ],
    selected: 'ru'
);
echo $select;
```

### Множественный выбор
```php
$select = new Select(
    name: 'skills[]',
    options: $skills,
    selected: ['php', 'js'],
    multiple: true
);
```

### С группами опций
```php
$select = new Select(
    name: 'car',
    options: [
        'Немецкие' => [
            'bmw' => 'BMW',
            'audi' => 'Audi'
        ],
        'Японские' => [
            'toyota' => 'Toyota',
            'honda' => 'Honda'
        ]
    ]
);
```

### С плейсхолдером и обязательным выбором
```php
$select = new Select(
    name: 'department',
    options: $departments,
    placeholder: 'Выберите отдел',
    required: true
);
```

## Стилизация

### CSS-классы
| Класс | Назначение |
|-------|------------|
| `.wallkit-select__field` | Базовый стиль поля select |
| `.wallkit-select__field--multiple` | Стиль для множественного выбора |
| `.wallkit-select__field--sm` | Малый размер |
| `.wallkit-select__field--lg` | Большой размер |
| `.wallkit-select__field--outline` | Контурный вариант |
| `.wallkit-select__field--filled` | Заполненный вариант |

### CSS-переменные
Компонент использует переменные из базовой темы:
- `--wk-color-*` — цвета
- `--wk-spacing-*` — отступы
- `--wk-font-*` — типографика
- `--wk-border-radius-*` — радиусы скругления
- `--wk-shadow-*` — тени
- `--wk-transition-*` — анимации

## Валидация

Компонент выполняет базовую валидацию:
- Проверяет наличие имени поля
- Для множественного выбора проверяет, что имя оканчивается на `[]`
- Генерирует соответствующие HTML5 атрибуты (`required`, `disabled`)

## Совместимость

| Система | Статус | Примечания |
|---------|--------|------------|
| **PHP** | 8.2+ | Strict типизация, readonly классы |
| **HTML** | 5+ | Семантическая разметка, optgroup |
| **CSS** | 3+ | CSS-переменные, кастомные стрелки |
| **JavaScript** | ES6+ | Прогрессивное улучшение |

## Ссылки
- [Базовый класс Base](../Base/README.md)
- [Документация по формам](../../Form/Form/README.md)
- [Руководство по стилизации](../../../styling.md)

---

**Версия:** 1.0.0  
**Автор:** OlegV  
**Лицензия:** MIT